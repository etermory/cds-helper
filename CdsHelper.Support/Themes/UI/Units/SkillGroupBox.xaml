<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:units="clr-namespace:CdsHelper.Support.UI.Units"
                    xmlns:converters="clr-namespace:CdsHelper.Support.Local.Converters">

    <converters:StringToBrushConverter x:Key="StringToBrushConverter" />

    <Style TargetType="{x:Type units:SkillGroupBox}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type units:SkillGroupBox}">
                    <GroupBox Header="{TemplateBinding Header}" Padding="10">
                        <StackPanel>
                            <!-- 범례 -->
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                <Rectangle Width="12" Height="12"
                                           Fill="{Binding Column1Color, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource StringToBrushConverter}}"
                                           Margin="0,0,3,0" />
                                <TextBlock Text="{TemplateBinding Column1Label}" FontSize="10" Margin="0,0,10,0" />

                                <Rectangle Width="12" Height="12"
                                           Fill="{Binding Column2Color, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource StringToBrushConverter}}"
                                           Margin="0,0,3,0" />
                                <TextBlock Text="{TemplateBinding Column2Label}" FontSize="10" Margin="0,0,10,0" />

                                <Rectangle Width="12" Height="12"
                                           Fill="{Binding Column3Color, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource StringToBrushConverter}}"
                                           Margin="0,0,3,0" />
                                <TextBlock Text="{TemplateBinding Column3Label}" FontSize="10" Margin="0,0,10,0" />

                                <Rectangle Width="12" Height="12"
                                           Fill="{Binding Column4Color, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource StringToBrushConverter}}"
                                           Margin="0,0,3,0" />
                                <TextBlock Text="{TemplateBinding Column4Label}" FontSize="10" Margin="0,0,10,0" />

                                <Rectangle Width="12" Height="12"
                                           Fill="{Binding Column5Color, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource StringToBrushConverter}}"
                                           Margin="0,0,3,0" />
                                <TextBlock Text="{TemplateBinding Column5Label}" FontSize="10" />
                            </StackPanel>

                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- 기능 스킬 -->
                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                    <TextBlock Text="{TemplateBinding SkillsHeader}" FontWeight="Bold" Margin="0,0,0,5" />
                                    <ItemsControl ItemsSource="{TemplateBinding Skills}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Grid Margin="0,2">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="55" />
                                                        <ColumnDefinition Width="20" />
                                                        <ColumnDefinition Width="50" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding Name}" VerticalAlignment="Center" />
                                                    <TextBlock Grid.Column="1" Text="{Binding BestLevel}" FontWeight="Bold" VerticalAlignment="Center" />
                                                    <ProgressBar Grid.Column="2" Value="{Binding BestLevel, Mode=OneWay}" Maximum="3"
                                                                 Height="12" Margin="3,0,0,0"
                                                                 Foreground="{Binding BestColor, Converter={StaticResource StringToBrushConverter}}"
                                                                 ToolTip="{Binding ToolTipText}" />
                                                </Grid>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>

                                <!-- 언어 스킬 -->
                                <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                    <TextBlock Text="{TemplateBinding LanguagesHeader}" FontWeight="Bold" Margin="0,0,0,5" />
                                    <ItemsControl ItemsSource="{TemplateBinding Languages}">
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Grid Margin="0,2">
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="75" />
                                                        <ColumnDefinition Width="20" />
                                                        <ColumnDefinition Width="50" />
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="{Binding Name}" VerticalAlignment="Center" />
                                                    <TextBlock Grid.Column="1" Text="{Binding BestLevel}" FontWeight="Bold" VerticalAlignment="Center" />
                                                    <ProgressBar Grid.Column="2" Value="{Binding BestLevel, Mode=OneWay}" Maximum="3"
                                                                 Height="12" Margin="3,0,0,0"
                                                                 Foreground="{Binding BestColor, Converter={StaticResource StringToBrushConverter}}"
                                                                 ToolTip="{Binding ToolTipText}" />
                                                </Grid>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </GroupBox>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
