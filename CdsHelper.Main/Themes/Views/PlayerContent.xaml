<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:views="clr-namespace:CdsHelper.Main.UI.Views">

    <Style TargetType="{x:Type views:PlayerContent}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="{x:Type views:PlayerContent}">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <!-- 상단: 파일 선택 -->
                        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,10">
                            <Button Content="세이브 파일 열기" Width="120" Height="30"
                                    Command="{Binding LoadSaveCommand}" />
                            <TextBlock Text="{Binding FilePath}" VerticalAlignment="Center" Margin="10,0,0,0"
                                       Foreground="Gray" />
                        </StackPanel>

                        <!-- 중앙: 플레이어 정보 -->
                        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!-- 왼쪽: 기본 정보 + 기능 스킬 -->
                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                    <!-- 기본 정보 -->
                                    <GroupBox Header="기본 정보" Padding="10">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="80" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="이름:" FontWeight="Bold" />
                                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Player.FullName}"
                                                       FontSize="16" FontWeight="Bold" />

                                            <TextBlock Grid.Row="1" Grid.Column="0" Text="명성:" Margin="0,5,0,0" />
                                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Player.Fame}" Margin="0,5,0,0" />

                                            <TextBlock Grid.Row="2" Grid.Column="0" Text="악명:" Margin="0,5,0,0" />
                                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Player.Notoriety}" Margin="0,5,0,0" />

                                            <TextBlock Grid.Row="3" Grid.Column="0" Text="현재 도시:" Margin="0,5,0,0" />
                                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Player.CurrentCityName}" Margin="0,5,0,0" />
                                        </Grid>
                                    </GroupBox>

                                    <!-- 동료 정보 -->
                                    <GroupBox Header="동료" Padding="10" Margin="0,10,0,0">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="80" />
                                                <ColumnDefinition Width="*" />
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                                <RowDefinition Height="Auto" />
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Grid.Column="0" Text="부관:" />
                                            <TextBlock Grid.Row="0" Grid.Column="1" Text="{Binding Player.AdjutantName}" />

                                            <TextBlock Grid.Row="1" Grid.Column="0" Text="항해사:" Margin="0,3,0,0" />
                                            <TextBlock Grid.Row="1" Grid.Column="1" Text="{Binding Player.NavigatorName}" Margin="0,3,0,0" />

                                            <TextBlock Grid.Row="2" Grid.Column="0" Text="측량사:" Margin="0,3,0,0" />
                                            <TextBlock Grid.Row="2" Grid.Column="1" Text="{Binding Player.SurveyorName}" Margin="0,3,0,0" />

                                            <TextBlock Grid.Row="3" Grid.Column="0" Text="통역:" Margin="0,3,0,0" />
                                            <TextBlock Grid.Row="3" Grid.Column="1" Text="{Binding Player.InterpreterName}" Margin="0,3,0,0" />
                                        </Grid>
                                    </GroupBox>

                                    <!-- 기능 스킬 -->
                                    <GroupBox Header="기능 스킬" Padding="10" Margin="0,10,0,0">
                                        <ItemsControl ItemsSource="{Binding Player.Skills}">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="80" />
                                                            <ColumnDefinition Width="40" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding Key}" />
                                                        <TextBlock Grid.Column="1" Text="{Binding Value}" FontWeight="Bold" />
                                                        <ProgressBar Grid.Column="2" Value="{Binding Value, Mode=OneWay}" Maximum="100"
                                                                     Height="12" Margin="5,0,0,0" />
                                                    </Grid>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </GroupBox>
                                </StackPanel>

                                <!-- 오른쪽: 언어 스킬 -->
                                <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                    <GroupBox Header="언어 스킬" Padding="10">
                                        <ItemsControl ItemsSource="{Binding Player.Languages}">
                                            <ItemsControl.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid Margin="0,2">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="100" />
                                                            <ColumnDefinition Width="30" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" Text="{Binding Key}" />
                                                        <TextBlock Grid.Column="1" Text="{Binding Value}" FontWeight="Bold" />
                                                        <ProgressBar Grid.Column="2" Value="{Binding Value, Mode=OneWay}" Maximum="5"
                                                                     Height="12" Margin="5,0,0,0" />
                                                    </Grid>
                                                </DataTemplate>
                                            </ItemsControl.ItemTemplate>
                                        </ItemsControl>
                                    </GroupBox>

                                    <!-- 스킬 요약 -->
                                    <GroupBox Header="스킬 요약" Padding="10" Margin="0,10,0,0">
                                        <StackPanel>
                                            <TextBlock Text="기능:" FontWeight="Bold" />
                                            <TextBlock Text="{Binding Player.SkillsSummary}" TextWrapping="Wrap" Margin="0,5,0,10" />
                                            <TextBlock Text="언어:" FontWeight="Bold" />
                                            <TextBlock Text="{Binding Player.LanguagesSummary}" TextWrapping="Wrap" Margin="0,5,0,0" />
                                        </StackPanel>
                                    </GroupBox>
                                </StackPanel>
                            </Grid>
                        </ScrollViewer>

                        <!-- 하단: 상태바 -->
                        <TextBlock Grid.Row="2" Text="{Binding StatusText}" Margin="0,10,0,0" />
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
